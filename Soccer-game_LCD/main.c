/*
 * main.c
 *
 *  Created on: May 6, 2021
 *      Author: Hesha
 */

#include "STD_TYPES.h"
#include "BIT_MATHS.h"
#include "LCD_Interface.h"
#include <avr/delay.h>
int main()
{
	LCD_VoidInit();
	u8 rightweed[8]={0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10};
	u8 leftweed[8]={0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01};
	u8 ball_SRtoL[112]={0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00, //0
					    0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00, //1
					    0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00, //2
					    0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00, //3
					    0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00, //4
					    0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00, //5
					    0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18, //6
					    0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00, //7
					    0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00, //9
					    0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00, //10
					    0x00,0x00,0x18,0x18,0x00,0x00,0x00,0x00, //11
					    0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00, //12
					    0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x00, //13
	};
	u8 space[8]={
			0b00000000
			,0b00000000
			,0b00000000
			,0b00000000
			,0b00000000
			,0b00000000
			,0b00000000
			,0b00000000
	};
	//set addres CGRAM
	LCD_VoidSendCommand(0x40);
	//0
	for(u8 i=0;i<8;i++)
	{
		LCD_VoidSendData(rightweed[i]);
	}
	//1
	for(u8 i=0;i<8;i++)
	{
		LCD_VoidSendData(leftweed[i]);
	}
	for(u8 i=0;i<8;i++)
	{
		LCD_VoidSendData(space[i]);
	}


	while(1)
	{
		//start
		u8 counter=0;
		LCD_VoidSetPositin(0,0);
		LCD_VoidSendData(1);   //leftweed

		LCD_VoidSetPositin(0,15);
		LCD_VoidSendData(0);   //rightweed
		// fun left to right
		u8 i=0;
		for (i=0;i<14;i++)
		{
			//set GCRAM
			LCD_VoidSendCommand(0x58);
			for(u8 j=0; j<8;j++)
			{
				LCD_VoidSendData(ball_SRtoL[counter]);
				counter++;
			}

			if(i<7)
			{
				LCD_VoidSetPositin(0,i+2);
			}
			if(i==7)
			{
				LCD_VoidSetPositin(0,8);
				LCD_VoidSendData(2);
			}
			if(i>=7)
			{
				LCD_VoidSetPositin(1,i+2);
			}
			//shift to left
			LCD_VoidSendCommand(0b00010000);
			//space
			LCD_VoidSendData(2);
			LCD_VoidSendData(3);
			_delay_ms(500);
		}
		//shift to left
		LCD_VoidSendCommand(0b00010000);
		//space
		LCD_VoidSendData(2);


	}
}
